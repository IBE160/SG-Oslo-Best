{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/IBE%20160%20Programmering%20med%20KI/CVAI%20Turbo/SG-Oslo-Best/frontend/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\n\nexport default function DashboardPage() {\n  const [showPopup, setShowPopup] = useState(false);\n  const { session, isLoading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    // Show popup on component mount\n    setShowPopup(true);\n  }, []);\n  \n  // This effect handles redirection if the user is not authenticated.\n  useEffect(() => {\n    if (!isLoading && !session) {\n      router.push('/'); // Redirect to login/auth page\n    }\n  }, [isLoading, session, router]);\n\n\n  const handleUpdateCv = () => {\n    // Logic to navigate to the CV update page\n    // For now, we'll just close the popup\n    setShowPopup(false);\n    // router.push('/cv-management'); // This would be the actual navigation\n  };\n\n  if (isLoading || !session) {\n    // Render a loading state or nothing while checking auth and redirecting\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h1 className=\"text-2xl font-bold\">Dashboard</h1>\n      <p>Welcome to your dashboard.</p>\n      \n      <AlertDialog open={showPopup} onOpenChange={setShowPopup}>\n        <AlertDialogContent data-testid=\"update-cv-popup\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>Welcome Back!</AlertDialogTitle>\n            <AlertDialogDescription>\n              Would you like to update your CV information?\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Later</AlertDialogCancel>\n            <AlertDialogAction onClick={handleUpdateCv}>Update CV</AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;;AAWA;AACA;AAdA;;;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAA,8IAAO;IACtC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,gCAAgC;QAChC,aAAa;IACf,GAAG,EAAE;IAEL,oEAAoE;IACpE,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa,CAAC,SAAS;YAC1B,OAAO,IAAI,CAAC,MAAM,8BAA8B;QAClD;IACF,GAAG;QAAC;QAAW;QAAS;KAAO;IAG/B,MAAM,iBAAiB;QACrB,0CAA0C;QAC1C,sCAAsC;QACtC,aAAa;IACb,wEAAwE;IAC1E;IAEA,IAAI,aAAa,CAAC,SAAS;QACzB,wEAAwE;QACxE,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,8OAAC;0BAAE;;;;;;0BAEH,8OAAC;gBAAY,MAAM;gBAAW,cAAc;0BAC1C,cAAA,8OAAC;oBAAmB,eAAY;;sCAC9B,8OAAC;;8CACC,8OAAC;8CAAiB;;;;;;8CAClB,8OAAC;8CAAuB;;;;;;;;;;;;sCAI1B,8OAAC;;8CACC,8OAAC;8CAAkB;;;;;;8CACnB,8OAAC;oCAAkB,SAAS;8CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxD"}}]
}
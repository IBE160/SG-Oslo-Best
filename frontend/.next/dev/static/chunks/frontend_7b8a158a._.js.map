{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/IBE%20160%20Programmering%20med%20KI/CVAI%20Turbo/SG-Oslo-Best/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Documents/IBE 160 Programmering med KI/CVAI Turbo/SG-Oslo-Best/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":["React","Slot","cva","VariantProps","cn","buttonVariants","variants","variant","default","destructive","outline","secondary","ghost","link","size","sm","lg","icon","defaultVariants","Button","t0","$","_c","$i","Symbol","for","className","props","t1","asChild","undefined","Comp","t2","t3"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Documents/IBE 160 Programmering med KI/CVAI Turbo/SG-Oslo-Best/frontend/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":["c","_c","React","AlertDialogPrimitive","cn","buttonVariants","AlertDialog","Root","AlertDialogTrigger","Trigger","AlertDialogPortal","Portal","AlertDialogOverlay","forwardRef","ElementRef","Overlay","ComponentPropsWithoutRef","t0","ref","$","$i","Symbol","for","className","props","t1","t2","displayName","AlertDialogContent","Content","t3","AlertDialogHeader","AlertDialogFooter","AlertDialogTitle","Title","AlertDialogDescription","Description","AlertDialogAction","Action","AlertDialogCancel","Cancel","variant"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Documents/IBE 160 Programmering med KI/CVAI Turbo/SG-Oslo-Best/frontend/hooks/useNavigationBlocker.tsx"],"sourcesContent":["// frontend/hooks/useNavigationBlocker.tsx\nimport { useEffect, useCallback, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\n\ninterface NavigationBlockerOptions {\n  when: boolean; // Whether the blocker should be active\n  onConfirm?: () => void; // Callback when user confirms navigation (e.g., discard changes)\n  onCancel?: () => void; // Callback when user cancels navigation (e.g., stay on page)\n  onSave?: () => Promise<boolean>; // Callback when user wants to save before navigating\n}\n\nexport function useNavigationBlocker({ when, onConfirm, onCancel, onSave }: NavigationBlockerOptions) {\n  const router = useRouter();\n  const [showPrompt, setShowPrompt] = useState(false);\n  const [nextPath, setNextPath] = useState<string | null>(null);\n\n  const handleBrowserExit = useCallback((event: BeforeUnloadEvent) => {\n    if (when) {\n      event.preventDefault();\n      event.returnValue = ''; // Standard for browser to show prompt\n      return ''; // For some older browsers\n    }\n  }, [when]);\n\n  // This is a simplified approach for client-side navigation.\n  // A more robust solution might involve wrapping next/link or intercepting router.push/replace\n  // but for now, we'll demonstrate the modal itself.\n  // The ProfileCVForm will need to manually call this hook's prompt when navigation is attempted.\n\n  useEffect(() => {\n    window.addEventListener('beforeunload', handleBrowserExit);\n    return () => {\n      window.removeEventListener('beforeunload', handleBrowserExit);\n    };\n  }, [handleBrowserExit]);\n\n  const showBlocker = useCallback((path: string) => {\n    if (when) {\n      setNextPath(path);\n      setShowPrompt(true);\n      return true; // Block navigation\n    }\n    return false; // Don't block\n  }, [when]);\n\n  const confirmNavigation = useCallback(() => {\n    setShowPrompt(false);\n    onConfirm?.();\n    if (nextPath) {\n      router.push(nextPath);\n      setNextPath(null);\n    }\n  }, [nextPath, onConfirm, router]);\n\n  const cancelNavigation = useCallback(() => {\n    setShowPrompt(false);\n    onCancel?.();\n    setNextPath(null);\n  }, [onCancel]);\n\n  const saveAndNavigate = useCallback(async () => {\n    if (onSave) {\n      const success = await onSave();\n      if (success) {\n        confirmNavigation();\n      }\n    }\n  }, [onSave, confirmNavigation]);\n\n\n  const BlockerDialog = () => (\n    <AlertDialog open={showPrompt} onOpenChange={setShowPrompt}>\n      <AlertDialogContent>\n        <AlertDialogHeader>\n          <AlertDialogTitle>You have unsaved changes</AlertDialogTitle>\n          <AlertDialogDescription>\n            Are you sure you want to leave this page? Your changes will be lost unless you save them.\n          </AlertDialogDescription>\n        </AlertDialogHeader>\n        <AlertDialogFooter>\n          <AlertDialogCancel onClick={cancelNavigation}>Cancel</AlertDialogCancel>\n          {onSave && <AlertDialogAction onClick={saveAndNavigate}>Save & Leave</AlertDialogAction>}\n          <AlertDialogAction onClick={confirmNavigation}>Discard Changes</AlertDialogAction>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  );\n\n  return { showBlocker, BlockerDialog };\n}\n"],"names":["useEffect","useCallback","useState","useRouter","AlertDialog","AlertDialogAction","AlertDialogCancel","AlertDialogContent","AlertDialogDescription","AlertDialogFooter","AlertDialogHeader","AlertDialogTitle","NavigationBlockerOptions","when","onConfirm","onCancel","onSave","Promise","useNavigationBlocker","t0","$","_c","$i","Symbol","for","router","showPrompt","setShowPrompt","nextPath","setNextPath","t1","event","preventDefault","returnValue","handleBrowserExit","t2","t3","useNavigationBlocker[useEffect()]","window","addEventListener","removeEventListener","t4","path","showBlocker","t5","useNavigationBlocker[confirmNavigation]","push","confirmNavigation","t6","useNavigationBlocker[cancelNavigation]","cancelNavigation","t7","useNavigationBlocker[saveAndNavigate]","success","saveAndNavigate","t8","useNavigationBlocker[BlockerDialog]","BlockerDialog","t9"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Documents/IBE 160 Programmering med KI/CVAI Turbo/SG-Oslo-Best/frontend/components/CreateCVForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { useUnsavedChanges } from '@/context/UnsavedChangesContext';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { useNavigationBlocker } from '@/hooks/useNavigationBlocker';\nimport { parseISO, format } from 'date-fns'; // Import date-fns utilities\n\ninterface UserProfile {\n  id: string;\n  full_name: string;\n  date_of_birth: string;\n  gender: string;\n  phone_number: string;\n  address: string;\n  cv_content: string;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface ProfileCVFormInputs {\n  full_name: string;\n  date_of_birth: string;\n  gender: string;\n  phone_number: string;\n  address: string;\n  cv_content: string;\n}\n\nconst backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:8000';\n\nconst createUserProfileCvData = async (accessToken: string, formData: ProfileCVFormInputs): Promise<UserProfile> => {\n  const response = await fetch(`${backendUrl}/api/v1/users/me/cv`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`,\n    },\n    body: JSON.stringify({\n      full_name: formData.full_name,\n      date_of_birth: formData.date_of_birth,\n      gender: formData.gender,\n      phone_number: formData.phone_number,\n      address: formData.address,\n      cv_content: formData.cv_content,\n    }),\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Failed to create profile and CV.');\n  }\n  \n  const { data } = await response.json();\n  return data;\n};\n\n\nconst CreateCVForm: React.FC = () => {\n  const { register, handleSubmit, formState: { errors, isDirty }, reset, getValues } = useForm<ProfileCVFormInputs>();\n  const router = useRouter();\n  const { session } = useAuth();\n  const { setHasUnsavedChanges } = useUnsavedChanges();\n  const [submissionError, setSubmissionError] = useState<string | null>(null);\n  const queryClient = useQueryClient();\n\n  const createMutation = useMutation({\n    mutationFn: (formData: ProfileCVFormInputs) => createUserProfileCvData(session!.access_token!, formData),\n    onSuccess: (data) => {\n      setHasUnsavedChanges(false);\n      queryClient.invalidateQueries({ queryKey: ['userProfileCv'] });\n      console.log(\"Profile and CV created successfully!\");\n    },\n    onError: (error) => {\n      setSubmissionError(error.message || 'An unexpected error occurred during creation.');\n    },\n  });\n\n  const { mutateAsync, isPending: isMutating, isError: isMutationError, error: mutationError } = createMutation;\n\n  useEffect(() => {\n    setHasUnsavedChanges(isDirty);\n  }, [isDirty, setHasUnsavedChanges]);\n\n  const { BlockerDialog } = useNavigationBlocker({\n    when: isDirty,\n    onConfirm: () => {\n      reset();\n      setHasUnsavedChanges(false);\n    },\n    onSave: async () => {\n      const formValues = getValues();\n      try {\n        await mutateAsync(formValues);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    },\n  });\n\n  const onSubmit = async (data: ProfileCVFormInputs) => {\n    if (!session?.access_token) {\n      setSubmissionError(\"You must be logged in to create your profile.\");\n      return;\n    }\n    setSubmissionError(null);\n    try {\n      await mutateAsync(data);\n      router.push('/dashboard');\n    } catch (e) {\n      console.error('Mutation failed in onSubmit:', e);\n    }\n  };\n  \n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4 p-4\">\n      <h2 className=\"text-2xl font-bold mb-4\">Create Your Profile and CV</h2>\n      \n      {(submissionError || isMutationError) && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n          <strong className=\"font-bold\">Error: </strong>\n          <span className=\"block sm:inline\">{submissionError || mutationError?.message}</span>\n        </div>\n      )}\n\n      <div>\n        <label htmlFor=\"full_name\" className=\"block text-sm font-medium text-gray-700\">Full Name</label>\n        <input\n          id=\"full_name\"\n          type=\"text\"\n          {...register('full_name', { required: 'Full Name is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"fullName-input\"\n          disabled={isMutating}\n        />\n        {errors.full_name && <p className=\"mt-1 text-sm text-red-600\">{errors.full_name.message}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"date_of_birth\" className=\"block text-sm font-medium text-gray-700\">Date of Birth</label>\n        <input\n          id=\"date_of_birth\"\n          type=\"date\"\n          {...register('date_of_birth', { required: 'Date of Birth is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"dateOfBirth-input\"\n          disabled={isMutating}\n        />\n        {errors.date_of_birth && <p className=\"mt-1 text-sm text-red-600\">{errors.date_of_birth.message}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"gender\" className=\"block text-sm font-medium text-gray-700\">Gender</label>\n        <select\n          id=\"gender\"\n          {...register('gender', { required: 'Gender is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"gender-select\"\n          disabled={isMutating}\n        >\n          <option value=\"\">Select Gender</option>\n          <option value=\"male\">Male</option>\n          <option value=\"female\">Female</option>\n          <option value=\"other\">Other</option>\n        </select>\n        {errors.gender && <p className=\"mt-1 text-sm text-red-600\">{errors.gender.message}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"phone_number\" className=\"block text-sm font-medium text-gray-700\">Phone Number</label>\n        <input\n          id=\"phone_number\"\n          type=\"tel\"\n          {...register('phone_number', { required: 'Phone Number is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"phoneNumber-input\"\n          disabled={isMutating}\n        />\n        {errors.phone_number && <p className=\"mt-1 text-sm text-red-600\">{errors.phone_number.message}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"address\" className=\"block text-sm font-medium text-gray-700\">Address</label>\n        <input\n          id=\"address\"\n          type=\"text\"\n          {...register('address', { required: 'Address is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"address-input\"\n          disabled={isMutating}\n        />\n        {errors.address && <p className=\"mt-1 text-sm text-red-600\">{errors.address.message}</p>}\n      </div>\n\n      {/* CV Content Field */}\n      <div>\n        <label htmlFor=\"cv_content\" className=\"block text-sm font-medium text-gray-700\">CV Content</label>\n        {/* TODO: Integrate StatefulTextbox component (from Story 2.5) here */}\n        <textarea\n          id=\"cv_content\"\n          rows={10}\n          {...register('cv_content', { required: 'CV Content is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"cvContent-textarea\"\n          disabled={isMutating}\n        ></textarea>\n        {errors.cv_content && <p className=\"mt-1 text-sm text-red-600\">{errors.cv_content.message}</p>}\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n        data-testid=\"submit-button\"\n        disabled={isMutating}\n      >\n        {isMutating ? 'Creating...' : 'Create Profile and CV'}\n      </button>\n\n      <BlockerDialog />\n    </form>\n  );\n};\n\nexport default CreateCVForm;\n"],"names":["React","useState","useEffect","useForm","useRouter","useAuth","useUnsavedChanges","useMutation","useQueryClient","useNavigationBlocker","parseISO","format","UserProfile","id","full_name","date_of_birth","gender","phone_number","address","cv_content","created_at","updated_at","ProfileCVFormInputs","backendUrl","process","env","NEXT_PUBLIC_BACKEND_URL","createUserProfileCvData","accessToken","formData","Promise","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","detail","data","CreateCVForm","FC","$","_c","$i","Symbol","for","register","handleSubmit","formState","t0","reset","getValues","errors","isDirty","router","session","setHasUnsavedChanges","submissionError","setSubmissionError","queryClient","t1","access_token","t2","invalidateQueries","queryKey","console","log","t3","error","message","t4","mutationFn","onSuccess","onError","createMutation","mutateAsync","isPending","isMutating","isError","isMutationError","mutationError","t5","t6","t7","t8","formValues","t9","when","onConfirm","onSave","BlockerDialog","t10","data_0","push","t11","e","onSubmit","t12","t13","t14","t15","required","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","t32","t33","t34","t35","t36","t37","t38","t39","t40","t41","t42","t43","t44","t45","t46","t47","t48","t49","t50","t51"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1738, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Documents/IBE 160 Programmering med KI/CVAI Turbo/SG-Oslo-Best/frontend/components/EditCVForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { useUnsavedChanges } from '@/context/UnsavedChangesContext';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { useNavigationBlocker } from '@/hooks/useNavigationBlocker';\nimport { parseISO, format } from 'date-fns'; // Import date-fns utilities\n\ninterface UserProfile {\n  id: string;\n  full_name: string;\n  date_of_birth: string;\n  gender: string;\n  phone_number: string;\n  address: string;\n  cv_content: string;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface ProfileCVFormInputs {\n  full_name: string;\n  date_of_birth: string;\n  gender: string;\n  phone_number: string;\n  address: string;\n  cv_content: string;\n}\n\nconst backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:8000';\n\nconst fetchUserProfileCvData = async (accessToken: string): Promise<UserProfile> => {\n  const response = await fetch(`${backendUrl}/api/v1/users/me/cv`, {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${accessToken}`,\n    },\n  });\n\n  // For EditCVForm, a 404 means no profile exists, which is an error in this context.\n  // The parent component should ensure this component is only rendered if a profile exists.\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Failed to load profile and CV data.');\n  }\n\n  const userProfile = await response.json();\n  console.log('DEBUG: EditCVForm - fetchUserProfileCvData returning:', userProfile); // Add this\n  return userProfile;\n};\n\nconst updateUserProfileCvData = async (accessToken: string, formData: ProfileCVFormInputs): Promise<UserProfile> => {\n    const payload: Partial<ProfileCVFormInputs> = {};\n    if (formData.full_name) payload.full_name = formData.full_name;\n    if (formData.date_of_birth) payload.date_of_birth = formData.date_of_birth;\n    if (formData.gender) payload.gender = formData.gender;\n    if (formData.phone_number) payload.phone_number = formData.phone_number;\n    if (formData.address) payload.address = formData.address;\n    if (formData.cv_content) payload.cv_content = formData.cv_content;\n\n    const response = await fetch(`${backendUrl}/api/v1/users/me/cv`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${accessToken}`,\n      },\n      body: JSON.stringify(payload),\n    });\n  \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.detail || 'Failed to update profile and CV.');\n    }\n    \n    const { data } = await response.json();\n    return data;\n};\n\n\nconst EditCVForm: React.FC = () => {\n  const { register, handleSubmit, formState: { errors, isDirty }, reset, getValues } = useForm<ProfileCVFormInputs>();\n  const router = useRouter();\n  const { session } = useAuth();\n  console.log('DEBUG: EditCVForm - Session:', session);\n  console.log('DEBUG: EditCVForm - Access Token:', session?.access_token);\n  const { setHasUnsavedChanges } = useUnsavedChanges();\n  const [submissionError, setSubmissionError] = useState<string | null>(null);\n  const queryClient = useQueryClient();\n  const isInitialRender = React.useRef(true); // Ref to track initial render for form initialization\n\n  const { mutateAsync, isPending: isMutating, isError: isMutationError, error: mutationError } = updateMutation;\n\n  console.log('DEBUG: EditCVForm - Render: isDirty:', isDirty, 'isMutating:', isMutating, 'isUserCvLoading:', isUserCvLoading);\n\n  const { data: userData, isLoading: isUserCvLoading, isError: isUserCvError, error: userCvError } = useQuery({\n    queryKey: ['userProfileCv', session?.access_token],\n    queryFn: () => fetchUserProfileCvData(session!.access_token!),\n    enabled: !!session?.access_token,\n    onSettled: (data, error) => {\n      console.log('DEBUG: EditCVForm - useQuery onSettled - data:', data, 'error:', error);\n    }\n  });\n\n  // ******* NEW useEffect for form population *******\n  useEffect(() => {\n    if (userData && isInitialRender.current) { // Only on initial load of userData\n      console.log('DEBUG: EditCVForm - useEffect - Initializing form with userData:', userData);\n      reset({\n        full_name: userData.full_name || '',\n        date_of_birth: userData.date_of_birth ? format(parseISO(userData.date_of_birth), 'yyyy-MM-dd') : '',\n        gender: userData.gender || '',\n        phone_number: userData.phone_number || '',\n        address: userData.address || '',\n        cv_content: userData.cv_content || '',\n      });\n      isInitialRender.current = false; // Mark as initialized\n    }\n  }, [userData, reset]); // Dependency array includes userData and reset\n\n  console.log('DEBUG: EditCVForm - Query State: isLoading:', isUserCvLoading, 'isError:', isUserCvError, 'error:', userCvError);\n\n  const updateMutation = useMutation({\n    mutationFn: (formData: ProfileCVFormInputs) => updateUserProfileCvData(session!.access_token!, formData),\n    onSuccess: (updatedData) => { // Use updatedData for clarity\n      // Manually update the cache. This will NOT trigger reset(userData) in the useEffect\n      // because isInitialRender.current will be false.\n      queryClient.setQueryData(['userProfileCv', session?.access_token], (oldData: UserProfile | undefined) => {\n        if (!oldData) return updatedData;\n        return { ...oldData, ...updatedData };\n      });\n      // isDirty remains true if there are other unsaved changes.\n      // setHasUnsavedChanges is updated by the useEffect below based on isDirty.\n      console.log(\"DEBUG: Profile and CV auto-saved successfully! isDirty:\", isDirty);\n    },\n    onError: (error) => {\n      setSubmissionError(error.message || 'An unexpected error occurred during update.');\n      console.log(\"DEBUG: Auto-save failed! Error:\", error, \"isDirty:\", isDirty);\n    },\n  }); // <-- Added missing closing parenthesis and brace here\n\n\n  // The useEffect for setHasUnsavedChanges should remain, as it tracks overall form dirty state\n  useEffect(() => {\n    console.log('DEBUG: EditCVForm - useEffect [isDirty]: isDirty changed to', isDirty);\n    setHasUnsavedChanges(isDirty);\n  }, [isDirty, setHasUnsavedChanges]);\n\n  const { BlockerDialog } = useNavigationBlocker({\n    when: isDirty,\n    onConfirm: () => {\n      // Discard changes\n      console.log('DEBUG: BlockerDialog - Discarding changes. userData:', userData);\n      reset(userData); // Reset to last fetched data\n      setHasUnsavedChanges(false);\n    },\n    onSave: async () => {\n      const formValues = getValues();\n      try {\n        const result = await mutateAsync(formValues);\n        // On successful manual save, reset the form with the new data\n        reset(result); // Reset form state and set isDirty to false\n        setHasUnsavedChanges(false);\n        queryClient.invalidateQueries({ queryKey: ['userProfileCv'] }); // Invalidate after manual save to ensure fresh data for next load\n        console.log(\"DEBUG: Profile and CV manually saved successfully from BlockerDialog! isDirty:\", isDirty);\n        return true;\n      } catch (e) {\n        console.error('DEBUG: Manual save failed from BlockerDialog:', e);\n        return false;\n      }\n    },\n  });\n\n  const onSubmit = async (data: ProfileCVFormInputs) => {\n    if (!session?.access_token) {\n      setSubmissionError(\"You must be logged in to update your profile.\");\n      return;\n    }\n    setSubmissionError(null);\n    try {\n      const result = await mutateAsync(data);\n      reset(result); // Reset form state and set isDirty to false after manual submit\n      setHasUnsavedChanges(false);\n      queryClient.invalidateQueries({ queryKey: ['userProfileCv'] }); // Invalidate after manual save\n      router.push('/dashboard');\n      console.log(\"DEBUG: Profile and CV manually saved successfully from onSubmit! isDirty:\", isDirty);\n    } catch (e) {\n      console.error('DEBUG: Mutation failed in onSubmit:', e);\n    }\n  };\n\n  const handleBlur = () => {\n    console.log('DEBUG: handleBlur initiated. isDirty:', isDirty, 'isMutating:', isMutating);\n    // Only auto-save if the form is dirty and not already mutating\n    if (!isUserCvLoading && isDirty && !isMutating) {\n      const formValues = getValues();\n      console.log('DEBUG: Auto-save triggered. formValues:', formValues);\n      updateMutation.mutate(formValues);\n    }\n  };\n\n  if (isUserCvLoading) {\n    return <div className=\"p-4 text-center\">Loading Profile and CV data...</div>;\n  }\n\n  if (isUserCvError) {\n    return <div className=\"p-4 text-center text-red-600\">Error loading Profile and CV data: {userCvError?.message}</div>;\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4 p-4\">\n      <h2 className=\"text-2xl font-bold mb-4\">Edit Your Profile and CV</h2>\n      \n      {(submissionError || isMutationError) && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n          <strong className=\"font-bold\">Error: </strong>\n          <span className=\"block sm:inline\">{submissionError || mutationError?.message}</span>\n        </div>\n      )}\n\n      <div>\n        <label htmlFor=\"full_name\" className=\"block text-sm font-medium text-gray-700\">Full Name</label>\n        <input\n          id=\"full_name\"\n          type=\"text\"\n          {...register('full_name', { required: 'Full Name is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"fullName-input\"\n          disabled={isMutating}\n          onBlur={handleBlur}\n        />\n        {errors.full_name && <p className=\"mt-1 text-sm text-red-600\">{errors.full_name.message}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"date_of_birth\" className=\"block text-sm font-medium text-gray-700\">Date of Birth</label>\n        <input\n          id=\"date_of_birth\"\n          type=\"date\"\n          {...register('date_of_birth', { required: 'Date of Birth is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"dateOfBirth-input\"\n          disabled={isMutating}\n          onBlur={handleBlur}\n        />\n        {errors.date_of_birth && <p className=\"mt-1 text-sm text-red-600\">{errors.date_of_birth.message}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"gender\" className=\"block text-sm font-medium text-gray-700\">Gender</label>\n        <select\n          id=\"gender\"\n          {...register('gender', { required: 'Gender is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"gender-select\"\n          disabled={isMutating}\n          onBlur={handleBlur}\n        >\n          <option value=\"\">Select Gender</option>\n          <option value=\"male\">Male</option>\n          <option value=\"female\">Female</option>\n          <option value=\"other\">Other</option>\n        </select>\n        {errors.gender && <p className=\"mt-1 text-sm text-red-600\">{errors.gender.message}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"phone_number\" className=\"block text-sm font-medium text-gray-700\">Phone Number</label>\n        <input\n          id=\"phone_number\"\n          type=\"tel\"\n          {...register('phone_number', { required: 'Phone Number is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"phoneNumber-input\"\n          disabled={isMutating}\n          onBlur={handleBlur}\n        />\n        {errors.phone_number && <p className=\"mt-1 text-sm text-red-600\">{errors.phone_number.message}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"address\" className=\"block text-sm font-medium text-gray-700\">Address</label>\n        <input\n          id=\"address\"\n          type=\"text\"\n          {...register('address', { required: 'Address is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"address-input\"\n          disabled={isMutating}\n          onBlur={handleBlur}\n        />\n        {errors.address && <p className=\"mt-1 text-sm text-red-600\">{errors.address.message}</p>}\n      </div>\n\n      {/* CV Content Field */}\n      <div>\n        <label htmlFor=\"cv_content\" className=\"block text-sm font-medium text-gray-700\">CV Content</label>\n        {/* TODO: Integrate StatefulTextbox component (from Story 2.5) here */}\n        <textarea\n          id=\"cv_content\"\n          rows={10}\n          {...register('cv_content', { required: 'CV Content is required' })}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          data-testid=\"cvContent-textarea\"\n          disabled={isMutating}\n          onBlur={handleBlur}\n        ></textarea>\n        {errors.cv_content && <p className=\"mt-1 text-sm text-red-600\">{errors.cv_content.message}</p>}\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n        data-testid=\"submit-button\"\n        disabled={!isDirty || isMutating || isUserCvLoading}\n      >\n        {isMutating ? 'Saving...' : 'Save Profile and CV'}\n      </button>\n\n      <BlockerDialog />\n    </form>\n  );\n};\n\nexport default EditCVForm;\n"],"names":["React","useState","useEffect","useForm","useRouter","useAuth","useUnsavedChanges","useQuery","useMutation","useQueryClient","useNavigationBlocker","parseISO","format","UserProfile","id","full_name","date_of_birth","gender","phone_number","address","cv_content","created_at","updated_at","ProfileCVFormInputs","backendUrl","process","env","NEXT_PUBLIC_BACKEND_URL","fetchUserProfileCvData","accessToken","Promise","response","fetch","method","headers","ok","errorData","json","Error","detail","userProfile","console","log","updateUserProfileCvData","formData","payload","Partial","body","JSON","stringify","data","EditCVForm","FC","register","handleSubmit","formState","errors","isDirty","reset","getValues","router","session","access_token","setHasUnsavedChanges","submissionError","setSubmissionError","queryClient","isInitialRender","useRef","mutateAsync","isPending","isMutating","isError","isMutationError","error","mutationError","updateMutation","isUserCvLoading","userData","isLoading","isUserCvError","userCvError","queryKey","queryFn","enabled","onSettled","current","mutationFn","onSuccess","updatedData","setQueryData","oldData","onError","message","BlockerDialog","when","onConfirm","onSave","formValues","result","invalidateQueries","e","onSubmit","push","handleBlur","mutate","required"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2341, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Documents/IBE 160 Programmering med KI/CVAI Turbo/SG-Oslo-Best/frontend/app/cv-creation/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport CreateCVForm from \"@/components/CreateCVForm\";\nimport EditCVForm from \"@/components/EditCVForm\";\n\nconst backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:8000';\n\n// This function checks for user profile existence\nconst fetchUserProfileExistence = async (accessToken: string) => {\n  const response = await fetch(`${backendUrl}/api/v1/users/me/cv`, {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${accessToken}`,\n    },\n  });\n\n  if (response.status === 404) {\n    return null; // Profile does not exist\n  }\n\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Failed to check profile existence.');\n  }\n  \n  // Profile exists\n  return true; // Return true if profile data was found\n};\n\nexport default function CvCreationPage() {\n  const { session, isLoading: isAuthLoading } = useAuth();\n  const router = useRouter();\n\n  // Redirect to login if not authenticated\n  useEffect(() => {\n    if (!isAuthLoading && !session) {\n      router.push(\"/\");\n    }\n  }, [session, isAuthLoading, router]);\n\n  // Query to check if user profile exists\n  const { data: profileExists, isLoading: isProfileLoading, isError: isProfileError, error: profileError } = useQuery({\n    queryKey: ['userProfileExistence', session?.access_token],\n    queryFn: () => fetchUserProfileExistence(session!.access_token!),\n    enabled: !!session?.access_token, // Only run if authenticated\n  });\n\n  if (isAuthLoading || isProfileLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  if (isProfileError) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <p className=\"text-red-600\">Error: {profileError?.message || 'Failed to load profile status.'}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen\">\n      <div className=\"w-full max-w-lg\">\n        {profileExists ? <EditCVForm /> : <CreateCVForm />}\n      </div>\n    </div>\n  );\n}"],"names":["c","_c","React","useEffect","useRouter","useAuth","useQuery","CreateCVForm","EditCVForm","backendUrl","process","env","NEXT_PUBLIC_BACKEND_URL","fetchUserProfileExistence","accessToken","response","fetch","method","headers","status","ok","errorData","json","Error","detail","CvCreationPage","$","$i","Symbol","for","session","isLoading","isAuthLoading","router","t0","t1","CvCreationPage[useEffect()]","push","t2","access_token","t3","t4","t5","t6","queryKey","queryFn","enabled","data","profileExists","isProfileLoading","isError","isProfileError","error","profileError","t7","message","t8"],"mappings":"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","ignoreList":[]}}]
}